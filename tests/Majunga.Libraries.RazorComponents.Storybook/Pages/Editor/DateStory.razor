@page "/editor/datestory"
@using Majunga.Libraries.RazorComponents.Components.Forms
@using Majunga.Libraries.RazorComponents.Services
@using System.ComponentModel.DataAnnotations
@inject AlertState AlertState

<EditorForm Model="@model" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidSubmit">
    <EditorDate @bind-Value="model.Date" />
    <br />
    <button type="submit" class="btn btn-primary">Submit</button>
</EditorForm>

@code {
    private TestModel model = new ();

    protected override void OnInitialized()
    {
        model = new TestModel();
        base.OnInitialized();
    }

    private void HandleValidSubmit()
    {
        AlertState.ClearAll();

        AlertState.Success($"Submitted Input {model.Date}");
    }
    
    private void HandleInvalidSubmit()
    {
        AlertState.ClearAll();

        AlertState.Error($"Submitted Input {model.Date}");
    }

    public class TestModel
    {
        [Required]
        public DateTime? Date { get; set; }
    }
}


